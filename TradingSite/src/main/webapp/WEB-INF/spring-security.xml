<!--<beans:beans xmlns="http://www.springframework.org/schema/security"-->
<!--             xmlns:beans="http://www.springframework.org/schema/beans"-->
<!--             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"-->
<!--             xsi:schemaLocation="http://www.springframework.org/schema/beans-->
<!-- http://www.springframework.org/schema/beans/spring-beans-3.0.xsd-->
<!-- http://www.springframework.org/schema/security-->
<!-- http://www.springframework.org/schema/security/spring-security-4.2.xsd">-->
<!--    -->

<!--    <beans:bean id="webexpressionHandler"-->
<!--                class="org.springframework.security.web.access.expression.DefaultWebSecurityExpressionHandler"/> -->
<!--    -->
<!--    <beans:bean id="encoder"-->
<!--                class="org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder"/>-->
<!--                -->
<!--    <http pattern="/login" security="none" />-->
<!--    <http pattern="/register" security="none" />-->
<!--    <http pattern="/addUser" security="none" />-->
<!--    <http pattern="/error" security="none" />-->
<!--    <http pattern="/css/**" security="none" />-->
<!--    <http pattern="/js/**" security="none" />-->
<!--    <http pattern="/img/**" security="none" />-->

<!--    <http auto-config="true" use-expressions="false" disable-url-rewriting="false">-->
<!--        <csrf disabled="true"/>-->
<!--&lt;!&ndash;        <form-login login-processing-url="/j_spring_security_check"&ndash;&gt;-->
<!--&lt;!&ndash;                    login-page="/login"&ndash;&gt;-->
<!--&lt;!&ndash;                    authentication-failure-url="/login?login_error=1"/>&ndash;&gt;-->

<!--        <intercept-url pattern="/login*" access="IS_AUTHENTICATED_ANONYMOUSLY" />-->
<!--        <intercept-url pattern="/**"-->
<!--                       access="ROLE_USER"/>-->

<!--        <form-login login-page="/login" login-processing-url="/perform_login"-->
<!--                    default-target-url="/portfolio" authentication-failure-url="/login?login_error=1"-->
<!--                    always-use-default-target="true"/>-->

<!--        <logout logout-url="/logout" logout-success-url="/login" />-->
<!--       -->
<!--        <intercept-url pattern="/" -->
<!--                       access="IS_AUTHENTICATED_ANONYMOUSLY" />-->
<!--        <intercept-url pattern="/index" -->
<!--                       access="IS_AUTHENTICATED_ANONYMOUSLY" />-->
<!--&lt;!&ndash;        <intercept-url pattern="/**"&ndash;&gt;-->
<!--&lt;!&ndash;                       access="ROLE_USER"/>&ndash;&gt;-->

<!--        &lt;!&ndash; Content related &ndash;&gt;-->
<!--        <intercept-url pattern="/transactions"-->
<!--                       access="ROLE_USER" />-->
<!--        <intercept-url pattern="/stocks"-->
<!--                       access="ROLE_USER" />-->
<!--        <intercept-url pattern="/buyStock"-->
<!--                       access="ROLE_USER" />-->

<!--    </http>-->
<!--    <authentication-manager>-->
<!--        <authentication-provider>-->
<!--            <password-encoder ref="encoder"/>-->
<!--            <jdbc-user-service id="userAuthService"-->
<!--                               data-source-ref="dataSource"-->
<!--                               users-by-username-query=-->
<!-- "select email AS username, password from db.users where email=?"-->
<!--                               authorities-by-username-query=-->
<!-- "select u.email AS username, ur.roleType from db.users u join db.users_roles ur on u.userID = ur.userID where u.email=?" />-->
<!--        </authentication-provider>-->
<!--    </authentication-manager>-->
<!--</beans:beans>-->
